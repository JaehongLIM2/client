<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>성적 처리 프로그램</title>
</head>

<body>
    <h1>성적 처리 프로그램</h1>

    <script>
        // 학점 계산 함수
        const getGrade = (average) => {
            if (average >= 90) return "A";
            else if (average >= 80) return "B";
            else if (average >= 70) return "C";
            else if (average >= 60) return "D";
            else return "F";
        };

        let students = []; // 학생 데이터를 저장할 배열

        // 개별 성적 데이터를 저장할 배열 변수
        let names = [];
        let kors = [];
        let engs = [];
        let maths = [];
        let totals = [];
        let averages = [];
        let grades = [];

        // 학생 데이터 입력
        for (let i = 0; i < 3; i++) {
            let name = prompt('이름을 입력하세요.');
            let kor = Number(prompt('국어 점수를 입력하세요.'));
            let eng = Number(prompt('영어 점수를 입력하세요.'));
            let math = Number(prompt('수학 점수를 입력하세요.'));

            let total = kor + eng + math;
            let average = total / 3;
            let grade = getGrade(average);

            students.push({ name, kor, eng, math, total, average, grade });

            // 개별 데이터 배열에 추가
            names.push(name);
            kors.push(kor);
            engs.push(eng);
            maths.push(math);
            totals.push(total);
            averages.push(average);
            grades.push(grade);
        }

        // 성적 출력
        for (let student of students) {
            document.write(`
                이름: ${student.name} <br>
                국어: ${student.kor}, 영어: ${student.eng}, 수학: ${student.math} <br>
                총점: ${student.total}, 평균: ${student.average.toFixed(0)}, 학점: ${student.grade} 
                <br><br>
            `);
        }

        // 데이터를 직렬화하여 localStorage에 저장
        localStorage.setItem("students", JSON.stringify(students));
        localStorage.setItem("names", JSON.stringify(names));
        localStorage.setItem("kors", JSON.stringify(kors));
        localStorage.setItem("engs", JSON.stringify(engs));
        localStorage.setItem("maths", JSON.stringify(maths));
        localStorage.setItem("totals", JSON.stringify(totals));
        localStorage.setItem("averages", JSON.stringify(averages));
        localStorage.setItem("grades", JSON.stringify(grades));

        // 저장된 데이터 확인
        console.log("저장된 학생 데이터:", JSON.parse(localStorage.getItem("students")));
    </script>
</body>

</html>